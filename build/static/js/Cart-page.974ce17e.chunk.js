(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{104:function(e,t,a){"use strict";var n=a(102),r=a(3),c=new n.b.Entity("dishes",void 0,{idAttribute:"_id"}),i={fetchRequest:function(){return{type:r.a.MENU_FETCH_REQUEST}},fetchSuccess:function(e){var t=Object(n.a)(e,[c]);return{type:r.a.MENU_FETCH_SUCCESS,payload:{ids:{dishes:Object.keys(t.entities.dishes)},entities:t.entities}}},fetchError:function(e){return{type:r.a.MENU_FETCH_ERROR,payload:e}},fetchAvailableCategoriesRequest:function(){return{type:r.a.AVAILABLE_CATEGORIES_FETCH_REQUEST}},fetchAvailableCategoriesSuccess:function(e){return{type:r.a.AVAILABLE_CATEGORIES_FETCH_SUCCESS,payload:e}},fetchAvailableCategoriesError:function(e){return{type:r.a.AVAILABLE_CATEGORIES_FETCH_ERROR,payload:e}},getCategoryFilter:function(e){return{type:r.a.FILTER_BY_CATEGORY_GET,payload:e||""}},changeCategoryFilter:function(e,t,a){return t.push({pathname:a.pathname,search:"category=".concat(e)}),{type:r.a.FILTER_BY_CATEGORY_CHANGED,payload:e}},clearCategoryFilter:function(e){return e.push({pathname:"/menu"}),{type:r.a.FILTER_BY_CATEGORY_CLEAR,payload:""}},changeNameFilter:function(e){return{type:r.a.FILTER_BY_DISH_NAME,payload:e}}},l=a(97),o=a.n(l),u=a(98),s=a(22),m=a.n(s),f=a(42);m.a.defaults.baseURL=f.a;var _={fetchMenuItems:function(e){return function(){var t=Object(u.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a(i.fetchRequest()),t.prev=1,!e){t.next=8;break}return t.next=5,m.a.get("/menu?category=".concat(e));case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,m.a.get("/menu");case 10:t.t0=t.sent;case 11:n=t.t0,a(i.fetchSuccess(n.data.menuItems)),t.next=18;break;case 15:t.prev=15,t.t1=t.catch(1),a(i.fetchError(t.t1));case 18:case"end":return t.stop()}},t,null,[[1,15]])}));return function(e){return t.apply(this,arguments)}}()},fetchAvailableCategories:function(){return function(){var e=Object(u.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(i.fetchAvailableCategoriesRequest()),e.prev=1,e.next=4,m.a.get("/categories");case 4:a=e.sent,t(i.fetchAvailableCategoriesSuccess(a.data.categories)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(i.fetchAvailableCategoriesError(e.t0));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}},d=a(31),h=function(e){return e.filterByName},E=Object(d.a)([function(e){return e.dishListIds},function(e){return e.entities.dishes}],function(e,t){return e.map(function(e){return t[e]})}),b=Object(d.a)([E,h],function(e,t){return e.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())})}),p={getFilterByName:h,getAvailableCategories:function(e){return e.availableCategories},getFilterByCategory:function(e){return e.filterByCategory},getFilteredByNameDishes:b,getVisibleDishes:function(e){return h(e)?b(e):E(e)},getIsLoading:function(e){return e.isLoading}};a.d(t,"a",function(){return i}),a.d(t,"b",function(){return _}),a.d(t,"c",function(){return p})},131:function(e,t,a){e.exports={cart_container:"Cart_cart_container__32oCO",cartTable_headRow:"Cart_cartTable_headRow__32MlZ",cartTable_headCell:"Cart_cartTable_headCell__2nUtk",cartTable_bodyRow:"Cart_cartTable_bodyRow__24FJg",cartTable_dishLink:"Cart_cartTable_dishLink__tvIky",incrementBtn:"Cart_incrementBtn__1RYX9",decrementBtn:"Cart_decrementBtn__1edOt",deleteBtn:"Cart_deleteBtn__1NvY8",cartTable_totalPrice:"Cart_cartTable_totalPrice__asbLa",cartTable_tdQty:"Cart_cartTable_tdQty__2ZmUa"}},144:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a(16),l=a(18),o=a(17),u=a(19),s=a(11),m=a(40),f=["\u0411\u043b\u044e\u0434\u043e","\u0426\u0435\u043d\u0430/\u0435\u0434.","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"],_=a(131),d=a.n(_),h=function(e){var t=e.dishes,a=e.totalPrice,n=e.onDeleteDishFromCart,c=e.onIncrementDish,i=e.onDecrementDish,l=e.location,o=function(e){var t=e.id;return r.a.createElement("button",{className:d.a.incrementBtn,type:"button",onClick:function(){return c(t)}})},u=function(e){var t=e.id;return r.a.createElement("button",{className:d.a.decrementBtn,type:"button",onClick:function(){return i(t)}})},s=function(e){var t=e.id;return r.a.createElement("button",{className:d.a.deleteBtn,type:"button",onClick:function(){return n(t)}})},_=f.map(function(e){return r.a.createElement("th",{key:e,className:d.a.cartTable_headCell},e)}),h=t.map(function(e){var t=e._id,a=e.image,n=e.name,c=e.price,i=e.qty;return r.a.createElement("tr",{className:d.a.cartTable_bodyRow,key:t},r.a.createElement("td",null,r.a.createElement(m.a,{to:{pathname:"/menu/".concat(t),state:{from:l}},className:d.a.cartTable_dishLink},r.a.createElement("img",{src:a,alt:n,width:"60",height:"60"}),n)),r.a.createElement("td",null," ",c," "),r.a.createElement("td",null,r.a.createElement("div",{className:d.a.cartTable_tdQty},r.a.createElement(u,{id:t}),r.a.createElement("span",null,i),r.a.createElement(o,{id:t}))),r.a.createElement("td",null," ",i*c," "),r.a.createElement("td",null,r.a.createElement(s,{id:t})))});return r.a.createElement(r.a.Fragment,null,t.length>0?r.a.createElement("div",{className:d.a.cart_container},r.a.createElement("h2",null,"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430",r.a.createElement("p",{className:d.a.cartTable_totalPrice},"Total: ",r.a.createElement("span",null,a))),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",{className:d.a.cartTable_headRow},_)),r.a.createElement("tbody",null,h))):r.a.createElement("h2",null,"\u0412\u044b \u0435\u0449\u0435 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u2639 "))},E=a(44),b=a(104),p=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).goBack=function(){var e=a.props,t=e.history,n=e.location;t.push({pathname:"/menu",state:{from:n}})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchMenuItems)()}},{key:"render",value:function(){return r.a.createElement(h,this.props)}}]),t}(n.Component),C={fetchMenuItems:b.b.fetchMenuItems,onDecrementDish:E.a.decrementQty,onIncrementDish:E.a.incrementQty,onDeleteDishFromCart:E.a.deleteFromCart},y=Object(s.b)(function(e){return{dishes:E.b.getCartItems(e),totalPrice:E.b.getTotalPrice(e)}},C)(p);t.default=function(e){return r.a.createElement("div",null,r.a.createElement(y,e))}}}]);
//# sourceMappingURL=Cart-page.974ce17e.chunk.js.map